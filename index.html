<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/assets/splash_logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Venezolario - El juego de palabras venezolano más divertido" />
    <meta name="keywords" content="juego, palabras, venezuela, venezolano, adivinanza" />
    <meta name="author" content="Venezolario Team" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://venezolario.com/" />
    <meta property="og:title" content="Venezolario - Juego de Palabras Venezolano" />
    <meta property="og:description" content="El juego de palabras venezolano más divertido. ¡Adivina las palabras típicas de Venezuela!" />
    <meta property="og:image" content="/assets/splash_logo.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://venezolario.com/" />
    <meta property="twitter:title" content="Venezolario - Juego de Palabras Venezolano" />
    <meta property="twitter:description" content="El juego de palabras venezolano más divertido. ¡Adivina las palabras típicas de Venezuela!" />
    <meta property="twitter:image" content="/assets/splash_logo.png" />

    <title>Venezolario - Juego de Palabras</title>
    <!-- iframe检测和防护脚本 -->
    <script>
      (function () {
        'use strict';

        // 目标域名
        const TARGET_DOMAIN = 'https://www.venezolario.net/';

        // 检测是否在iframe中
        function isInIframe() {
          try {
            return window.self !== window.top;
          } catch (e) {
            // 如果跨域限制导致异常，说明肯定在iframe中
            return true;
          }
        }

        // 检测是否在框架中（更全面的检测）
        function isInFrame() {
          return window.frameElement !== null ||
            window.parent !== window ||
            window.top !== window.self;
        }

        // 获取当前域名
        function getCurrentDomain() {
          return window.location.protocol + '//' + window.location.hostname;
        }

        // 执行检测和跳转
        function performIframeCheck() {
          try {
            const currentDomain = getCurrentDomain();
            const targetHost = new URL(TARGET_DOMAIN).hostname;
            const currentHost = window.location.hostname;

            // 如果已经在目标域名上，不需要跳转
            if (currentHost === targetHost) {
              return;
            }

            // 检测是否在iframe中
            if (isInIframe() || isInFrame()) {
              console.warn('检测到页面被嵌入到iframe中，正在跳转到官方网站...');

              // 尝试跳转顶级窗口
              try {
                window.top.location.href = TARGET_DOMAIN;
              } catch (e) {
                // 如果无法访问顶级窗口，使用当前窗口跳转
                window.location.href = TARGET_DOMAIN;
              }

              // 阻止页面继续加载
              return false;
            }
          } catch (error) {
            console.error('iframe检测过程中发生错误:', error);
            // 发生错误时为了安全起见也跳转
            try {
              window.top.location.href = TARGET_DOMAIN;
            } catch (e) {
              window.location.href = TARGET_DOMAIN;
            }
          }
        }

        // 立即执行检测
        performIframeCheck();

        // DOM加载完成后再次检测（双重保险）
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', performIframeCheck);
        }

        // 定期检测（防止动态嵌入）
        setInterval(performIframeCheck, 1000);

      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html> 